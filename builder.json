{
	"sourceDir":"src",
	"includeDir":"include",
	"outputName":"ctx",
	"defaultMode":"%platform",
	"outputDir":[
		"bin",
		"%modeLast"
	],
	"objectDir":[
		"build",
		"%modeLast"
	],
	"compileCmd":[
		"g++ -c",
		"%compileFlags"
	],
	"linkCmd":[
		"g++",
		"%linkFlags"
	],
	"compileFlags":[
		"-std=c++20",
		"-o",
		"%out",
		"-Wall",
		"-Wextra",
		"-fno-exceptions",
		"-fno-rtti",
		"-pedantic",
		"-I",
		"#%includeDir",
		"%in"
	],
	"linkFlags":[
		"-o",
		"%out",
		"%in",
		"%libStyle",
		"%libs"
	],
	"defaultModes":{
		"release":"%releaseMode",
		"debug":"%debugMode",
		"size":"%sizeMode",
		"install":"%installMode"
	},
	"releaseMode":{
		"outputDir":"bin",
		"compileFlags":[
			"%compileFlags",
			"-O3",
			"-DNDEBUG"
		],
		"linkFlags":[
			"%linkFlags",
			"-s"
		]
	},
	"debugMode":{
		"compileFlags":[
			"%compileFlags",
			"-ggdb3",
			"-Og"
		]
	},
	"sizeMode":{
		"compileFlags":[
			"%compileFlags",
			"-Os",
			"-fdata-sections",
			"-ffunction-sections",
			"-fvisibility=hidden",
			"-fvisibility-inlines-hidden",
			"-DNDEBUG"
		],
		"linkFlags":[
			"-s",
			"-Wl,--gc-sections",
			"-Bsymbolic",
			"-Wl,--exclude-libs,ALL",
			"%linkFlags"
		]
	},
	"installMode":{
		"compileCmd":"",
		"linkCmd":"",
		"preCmds":[
			[
				"echo Installing context at",
				"%installLoc",
				"#..."
			],
			[
				"echo",
				"%installCmd"
			],
			[
				"%installCmd"
			]
		]
	},
	"modes":{
		"linux":{
			"libStyle":"",
			"libs":[
				"-lncursesw",
				"-lX11"
			],
			"installLoc":"/usr/local/bin/",
			"installCmd":[
				"cp",
				"bin/",
				"#%outputName",
				"%installLoc",
				"#%outputName"
			],
			"modes":"%defaultModes"
		},
		"windows":{
			"libStyle":"-static",
			"libs":"-lshlwapi",
			"installLoc":"%SystemRoot%",
			"installCmd":[
				"copy",
				"bin\\",
				"#%outputName",
				"#.exe",
				"\\%SystemRoot%"
			],
			"modes":"%defaultModes"
		}
	}
}
